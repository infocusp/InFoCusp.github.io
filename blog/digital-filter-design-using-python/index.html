<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Digital filter design using python | Infocusp</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://your-docusaurus-test-site.com/blog/digital-filter-design-using-python"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Digital filter design using python | Infocusp"><meta data-rh="true" name="description" content="Based on this excellent Matlab tutorial. on the subject"><meta data-rh="true" property="og:description" content="Based on this excellent Matlab tutorial. on the subject"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2020-08-12T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://sebastienlorber.com"><meta data-rh="true" property="article:tag" content="signal-processing,python,filters"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-test-site.com/blog/digital-filter-design-using-python"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/blog/digital-filter-design-using-python" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/blog/digital-filter-design-using-python" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Infocusp RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Infocusp Atom Feed"><link rel="stylesheet" href="/assets/css/styles.e0d55a48.css">
<link rel="preload" href="/assets/js/runtime~main.cb5c9d2a.js" as="script">
<link rel="preload" href="/assets/js/main.daee9a05.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Infocusp</b></a><a class="navbar__item navbar__link" href="/docs/intro">Tutorial</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/pygit2">pygit2</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/awesome-ml-resources">Awesome ML resources</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/mdx-blog-post">MDX Blog Post</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/digital-filter-design-using-python">Digital filter design using python</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/long-blog-post">Long Blog Post</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="title_f1Hy" itemprop="headline">Digital filter design using python</h1><div class="container_mt6G margin-vert--md"><time datetime="2020-08-12T00:00:00.000Z" itemprop="datePublished">August 12, 2020</time> · <!-- -->9 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://sebastienlorber.com" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/7119249?v=4" alt="Falak Shah"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://sebastienlorber.com" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Falak Shah</span></a></div><small class="avatar__subtitle" itemprop="description">Research Scientist @ Infocusp</small></div></div></div></div></header><div id="post-content" class="markdown" itemprop="articleBody"><p>Based on <a href="https://in.mathworks.com/help/signal/ug/practical-introduction-to-digital-filter-design.html" target="_blank" rel="noopener noreferrer">this excellent Matlab tutorial</a>. on the subject</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a class="hash-link" href="#introduction" title="Direct link to heading">​</a></h2><p>The ideal lowpass filter is one that leaves unchanged all frequency components of a signal below a designated cutoff frequency, ωc , and rejects all components above ωc . Because the impulse response required to implement the ideal lowpass filter is infinitely long, it is impossible to design an ideal FIR lowpass filter. Finite length approximations to the ideal impulse response lead to the presence of ripples in both the passband (ω&lt;ωc) and the stopband (ω&gt;ωc) of the filter, as well as to a nonzero transition width between passband and stopband.</p><p>Both the passband/stopband ripples and the transition width are undesirable but unavoidable deviations from the response of an ideal lowpass filter when approximated with a finite impulse response. These deviations are depicted in the following figure:</p><p><img loading="lazy" alt="Docusaurus Plushie" src="/assets/images/image1-ab0f1708aee8b0464351eb416a5bdd2f.png" width="432" height="278" class="img_ev3q"></p><p>Practical FIR designs typically consist of filters that have a transition width and maximum passband and stopband ripples that do not exceed allowable values. In addition to those design specifications, one must select the filter order,or, equivalently, the length of the truncated impulse response.</p><p>A useful metaphor for the design specifications in filter design is to think of each specification as one of the angles in the triangle shown in the figure below.</p><p><img loading="lazy" alt="Docusaurus Plushie" src="data:image/png;base64,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" width="384" height="194" class="img_ev3q"></p><p>The triangle is used to understand the degrees of freedom available when choosing design specifications. Because the sum of the angles is fixed, one can at most select the values of two of the specifications. The third specification will be determined by the particular design algorithm. Moreover, as with the angles in a triangle, if we make one of the specifications larger/smaller, it will impact one or both of the other specifications.</p><p>FIR filters are very attractive because they are inherently stable and can be designed to have linear phase. Nonetheless, these filters can have long transient responses and might prove computationally expensive in certain applications.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> numpy </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> np</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> matplotlib </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> pyplot </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> plt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> scipy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">signal </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="minimum-order-fir-designs">Minimum-Order FIR Designs<a class="hash-link" href="#minimum-order-fir-designs" title="Direct link to heading">​</a></h2><p>Minimum-order designs are obtained by specifying passband and stopband frequencies as well as a passband ripple and a stopband attenuation. The design algorithm then chooses the minimum filter length that complies with the specifications.</p><p>Design a minimum-order lowpass FIR filter with a passband frequency of 0.37pi rad/sample, a stopband frequency of 0.43pi rad/sample (hence the transition width equals 0.06*pi rad/sample), a passband ripple of 1 dB and a stopband attenuation of 30 dB.</p><p>See the filtering functionalities available here: <a href="https://docs.scipy.org/doc/scipy/reference/signal.html" target="_blank" rel="noopener noreferrer">https://docs.scipy.org/doc/scipy/reference/signal.html</a></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">fpass </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">370</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fstop </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">430</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ap </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">astop </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2000</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">filtord </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ceil</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fs</span><span class="token operator" style="color:#393A34">/</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fstop</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">fpass</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">astop</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">22</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">astype</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">int32</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># https://dsp.stackexchange.com/questions/37646/filter-order-rule-of-thumb?newreg=141e955c67704f9d8b5df855233101c1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Order as computed using Fred Harris rule of thumb: {}&#x27;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">filtord</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Order </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> computed using Fred Harris rule of thumb</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">46</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">plot_response</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fs</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> h</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> title</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Low-pass Filter&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">label</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ax</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ylim</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">70</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;Utility function to plot response functions&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> ax</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      fig </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">figure</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ax </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> fig</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_subplot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">111</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ax</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">plot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.5</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">fs</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">w</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pi</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">log10</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">abs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">h</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> label</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">label</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ax</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_ylim</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ylim</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ax</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_xlim</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.5</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">fs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ax</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">grid</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ax</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_xlabel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Frequency (Hz)&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ax</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_ylabel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Gain (dB)&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ax</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_title</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">title</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ax</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">legend</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ax</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">taps </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> remez</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">filtord</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fpass</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fstop</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> h </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> freqz</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">taps</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> worN</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ax </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> plot_response</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fs</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> h</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> label</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;Equiripple&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> title</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Low-pass Filter&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="Docusaurus Plushie" src="/assets/images/image3-5fbf415fb5c04bd8a8f3cf3a48c0c161.png" width="403" height="278" class="img_ev3q"></p><p>The designfilt function chooses an equiripple design algorithm by default. Linear-phase equiripple filters are desirable because for a given order they have the smallest possible maximum deviation from the ideal filter.</p><p>Note, however, that minimum-order designs can also be obtained using a Kaiser window. Even though the Kaiser window method yields a larger filter order for the same specifications, the algorithm is less computationally expensive and less likely to have convergence issues when the design specifications are very stringent. This may occur if the application requires a very narrow transition width or a very large stopband attenuation.</p><p>Design a filter with the same specifications as above using the Kaiser window method and compare its response to the equiripple filter.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">fpass </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">370</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fstop </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">430</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">astop </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apass </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> fpass </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fstop</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">fpass</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">filtord_kaiser</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> beta </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> kaiserord</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">astop</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fstop</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">fpass</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">fs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">filtord_kaiser</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">taps </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> firwin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">filtord_kaiser</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fc</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> window</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;kaiser&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> beta</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              fs</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">fs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> h </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> freqz</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">taps</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> worN</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ax </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> plot_response</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fs</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> h</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> label</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;Kaiser&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> title</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Low-pass Filter&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">taps </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> remez</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">filtord</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fpass</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fstop</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> h </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> freqz</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">taps</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> worN</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plot_response</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fs</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> h</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> label</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;Equiripple&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> title</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Low-pass Filter&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ax</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ax</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="Docusaurus Plushie" src="/assets/images/image4-a4890c5ea7344c190ff6fd45c6d09a00.png" width="403" height="278" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="fixed-order-fixed-transition-width">Fixed Order, Fixed Transition Width<a class="hash-link" href="#fixed-order-fixed-transition-width" title="Direct link to heading">​</a></h2><p>Fixed-order designs are useful for applications that are sensitive to computational load or impose a limit on the number of filter coefficients. An option is to fix the transition width at the expense of control over the passband ripple/stopband attenuation.</p><p>Consider a 30-th order lowpass FIR filter with a passband frequency of 370 Hz, a stopband frequency of 430 Hz, and sample rate of 2 kHz. There are two design methods available for this particular set of specifications: equiripple and least squares. Let us design one filter for each method and compare the results.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">fpass </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">370</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fstop </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">430</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2000</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">N</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">30</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">taps </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> remez</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">N</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fpass</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fstop</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> h </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> freqz</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">taps</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> worN</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ax </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> plot_response</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fs</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> h</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> label</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;Equiripple&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> title</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Low-pass Filter&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">taps </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> firls</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">N</span><span class="token operator" style="color:#393A34">+</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fpass</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fstop</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  fs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> h </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> freqz</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">taps</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> worN</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plot_response</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fs</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> h</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> title</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Low-pass Filter&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  label</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;Least squares&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">ax</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ax</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="Docusaurus Plushie" src="/assets/images/image5-dc700da2dae1de00ada28c6c9f584a10.png" width="403" height="278" class="img_ev3q"></p><p>Equiripple filters are ideally suited for applications in which a specific tolerance must be met, such as designing a filter with a given minimum stopband attenuation or a given maximum passband ripple. On the other hand, these designs may not be desirable if we want to minimize the energy of the error (between ideal and actual filter) in the passband/stopband.</p><p>If you want to reduce the energy of a signal as much as possible in a certain frequency band, use a least-squares design.</p><p>In the examples above, the designed filters had the same ripple in the passband and in the stopband. We can use weights to reduce the ripple in one of the bands while keeping the filter order fixed. For example, if you wish the stopband ripple to be a tenth of that in the passband, you must give the stopband ten times the passband weight. Redesign the equiripple filter using that fact.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">N </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fpass </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">370</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fstop </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">430</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2000</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">taps </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> remez</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">N</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fpass</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fstop</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> h </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> freqz</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">taps</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> worN</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ax </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> plot_response</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fs</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> h</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> label</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;Equiripple&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> title</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Low-pass Filter&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">taps </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> remez</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">N</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fpass</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fstop</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> h </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> freqz</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">taps</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> worN</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plot_response</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fs</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> h</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> title</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Low-pass Filter&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> label</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;Equiripple design with weighted stopband&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ax</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ax</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="fixed-order-fixed-cutoff-frequency">Fixed Order, Fixed Cutoff Frequency<a class="hash-link" href="#fixed-order-fixed-cutoff-frequency" title="Direct link to heading">​</a></h2><p>You can design filters with fixed filter order and cutoff frequency using a window design method.</p><p>You can use different windows to control the stopband attenuation while keeping the filter order unchanged.</p><p>For example, consider a 100-th order lowpass FIR filter with a cutoff frequency of 60 Hz and a sample rate of 1 kHz. Compare designs that result from using a Hamming window, and a Chebyshev window with 90 dB of sidelobe attenuation.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">N </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">taps </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> firwin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">N</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fc</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> window</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;hamming&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              fs</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">fs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> h </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> freqz</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">taps</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ax </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> plot_response</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fs</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> h</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> label</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;Hamming&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">ylim</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">140</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> title</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Low-pass Filter&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">taps </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> firwin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">N</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fc</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> window</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;chebwin&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">90</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              fs</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">fs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> h </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> freqz</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">taps</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plot_response</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fs</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> h</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> label</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;Chebwin&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ylim</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">140</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">title</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Low-pass Filter&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ax</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ax</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="Docusaurus Plushie" src="/assets/images/image7-d9b7f30d375c004ea358a96cc19e2f1c.png" width="407" height="278" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="iir-filter-design">IIR Filter Design<a class="hash-link" href="#iir-filter-design" title="Direct link to heading">​</a></h2><p>One of the drawbacks of FIR filters is that they require a large filter order to meet some design specifications. If the ripples are kept constant, the filter order grows inversely proportional to the transition width. By using feedback, it is possible to meet a set of design specifications with a far smaller filter order. This is the idea behind IIR filter design. The term &quot;infinite impulse response&quot; (IIR) stems from the fact that, when an impulse is applied to the filter, the output never decays to zero.</p><p>IIR filters are useful when computational resources are at a premium. However, stable, causal IIR filters cannot have perfectly linear phase. Avoid IIR designs in cases where phase linearity is a requirement.</p><p>Another important reason for using IIR filters is their small group delay relative to FIR filters, which results in a shorter transient response.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="butterworth-filters">Butterworth Filters<a class="hash-link" href="#butterworth-filters" title="Direct link to heading">​</a></h2><p>Butterworth filters are maximally flat IIR filters. The flatness in the passband and stopband causes the transition band to be very wide. Large orders are required to obtain filters with narrow transition widths.</p><p>Design a minimum-order Butterworth filter with passband frequency 100 Hz, stopband frequency 300 Hz, maximum passband ripple 1 dB, and 60 dB stopband attenuation. The sample rate is 2 kHz.
Blog posts support <a href="https://docusaurus.io/docs/markdown-features" target="_blank" rel="noopener noreferrer">Docusaurus Markdown features</a>, such as <a href="https://mdxjs.com/" target="_blank" rel="noopener noreferrer">MDX</a>.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Fp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Fst </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">300</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Ap </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Ast </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Fs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2e3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">system_butter </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> iirdesign</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Fp</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Fst</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Ap</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Ast</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> analog</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ftype</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;butter&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> output</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;ba&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fs</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">Fs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> h </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> freqz</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">system_butter</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ax </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> plot_response</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Fs</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> h</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> title</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Low-pass Filter&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> label</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;Butterworth&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">system_cheby1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> iirdesign</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Fp</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Fst</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Ap</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Ast</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> analog</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ftype</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;cheby1&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> output</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;ba&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fs</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">Fs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> h </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> freqz</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">system_cheby1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plot_response</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Fs</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> h</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> label</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;Chebyshev-I&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ax</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ax</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">system_cheby2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> iirdesign</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Fp</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Fst</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Ap</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Ast</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> analog</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ftype</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;cheby2&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> output</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;ba&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fs</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">Fs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> h </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> freqz</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">system_cheby2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plot_response</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Fs</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> h</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> label</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;Chebyshev-II&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ax</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ax</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">system_ellip </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> iirdesign</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Fp</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Fst</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Ap</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Ast</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> analog</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ftype</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;ellip&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> output</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;ba&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fs</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">Fs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> h </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> freqz</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">system_ellip</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plot_response</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Fs</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> h</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> label</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;Elliptic&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ax</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ax</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ylim</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">80</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="Docusaurus Plushie" src="/assets/images/image8-a52781afc724158884fd83b8d20a4356.png" width="403" height="278" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="group-delay-comparison">Group Delay Comparison<a class="hash-link" href="#group-delay-comparison" title="Direct link to heading">​</a></h2><p>With IIR filters, we need to consider not only the ripple/transition width tradeoff, but also the degree of phase distortion. We know that it is impossible to have linear-phase throughout the entire Nyquist interval. Thus we may want to see how far from linear the phase response is. A good way to do this is to look at the (ideally constant) group delay and see how flat it is.</p><p>Compare the group delay of the four IIR filters designed above.</p><p>If phase is an issue, keep in mind that Butterworth and Chebyshev Type II designs have the flattest group delay and thus introduce the least distortion.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">w, gd_butter = group_delay(system_butter)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">w, gd_cheby1 = group_delay(system_cheby1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">w, gd_cheby2 = group_delay(system_cheby2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">w, gd_ellip = group_delay(system_ellip)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt.title(&#x27;Digital filter group delay&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt.plot(w/np.pi*Fs, gd_butter, label=&#x27;Butterworth&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt.plot(w/np.pi*Fs, gd_cheby1, label=&#x27;Chebyshev-I&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt.plot(w/np.pi*Fs, gd_cheby2, label=&#x27;Chebyshev-II&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt.plot(w/np.pi*Fs, gd_ellip, label=&#x27;Elliptic&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt.ylabel(&#x27;Group delay [samples]&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt.xlabel(&#x27;Frequency&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt.legend()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt.grid()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="Docusaurus Plushie" src="/assets/images/image8-a52781afc724158884fd83b8d20a4356.png" width="403" height="278" class="img_ev3q"></p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/signal-processing">signal-processing</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/python">python</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/filters">filters</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/InFoCusp/infocusp-blog/tree/main/blog/2020-08-12-digital-filter-design-using-python/index.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/mdx-blog-post"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">MDX Blog Post</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/long-blog-post"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Long Blog Post</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#minimum-order-fir-designs" class="table-of-contents__link toc-highlight">Minimum-Order FIR Designs</a></li><li><a href="#fixed-order-fixed-transition-width" class="table-of-contents__link toc-highlight">Fixed Order, Fixed Transition Width</a></li><li><a href="#fixed-order-fixed-cutoff-frequency" class="table-of-contents__link toc-highlight">Fixed Order, Fixed Cutoff Frequency</a></li><li><a href="#iir-filter-design" class="table-of-contents__link toc-highlight">IIR Filter Design</a></li><li><a href="#butterworth-filters" class="table-of-contents__link toc-highlight">Butterworth Filters</a></li><li><a href="#group-delay-comparison" class="table-of-contents__link toc-highlight">Group Delay Comparison</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.cb5c9d2a.js"></script>
<script src="/assets/js/main.daee9a05.js"></script>
</body>
</html>